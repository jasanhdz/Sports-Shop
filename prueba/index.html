<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link href="https://fonts.googleapis.com/css?family=Archivo+Black" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body id="overlay">
  <div class="header">
    <div class="container" id="hContainer">
      <div class="logo item" id="logo">
        <a class="img" href="index.html">
          <div style="height:50px;"><span class="letter first">S</span ><span class="letter second">S</span></div>
          <div class="logo-name">Sport Shop</div>
        </a>
      </div>
      <nav class="menu" id="menu">
        <li class="focus-menu">
          <span>MARCAS</span>
          <nav class="options">
            <div class="ropa">
              <h3 class="submenu-title">Más populares</h3>
              <li>
                <a href="">Muscle Tech</a>
              </li>
              <li>
                <a href="">BPI Sports</a>
              </li>
              <li>
                <a href="">MAD Labz</a>
              </li>
              <li>
                <a href="">USPlabz</a>
              </li>
              <li>
                <a href="">Ronnie Coleman</a>
              </li>
              <li>
                <a href="">MusclePharm</a>
              </li>
            </div>
            <div class="border"></div>
            <div class="suplementos">
              <h3 class="submenu-title">Las mejores marcas</h3>
              <div class="menu-marcas">
                <article class="item">
                  <li>
                    <a href="">Diablo Power</a>
                  </li>
                  <li>
                    <a href="">USPlabz</a>
                  </li>
                  <li>
                    <a href="">Advance Nutrition</a>
                  </li>
                  <li>
                    <a href="">Insane Labz</a>
                  </li>
                  <li>
                    <a href="">Limiti-X Nutrition</a>
                  </li>
                </article>
                <article class="item">
                  <li>
                    <a href="">GAT Sport</a>
                  </li>
                  <li>
                    <a href="">MuscleMeds</a>
                  </li>
                  <li>
                    <a href="">MDN Sports</a>
                  </li>
                  <li>
                    <a href="">Nubreed Nutrition</a>
                  </li>
                  <li>
                    <a href="">Dymatize</a>
                  </li>
                </article>
                <article class="item">
                  <li>
                    <a href="">Olimpo</a>
                  </li>
                  <li>
                    <a href="">Cobra Labz</a>
                  </li>
                  <li>
                    <a href="">Mutant</a>
                  </li>
                  <li>
                    <a href="">SLMF Labs</a>
                  </li>
                  <li>
                    <a href="">RSP Nutrition</a>
                  </li>
                </article>
              </div>
            </div>
          </nav>
        </li>
        <li class="focus-menu">
          <span>CATEGORÍAS</span>
          <nav class="options">
            <div class="ropa">
              <h3 class="submenu-title">Otras Categorías</h3>
              <li>
                <a href="">Vitaminas & Minerales</a>
              </li>
              <li>
                <a href="">Salud</a>
              </li>
              <li>
                <a href="">Omega-3 y CLA</a>
              </li>
              <li>
                <a href="">Energizantes</a>
              </li>
              <li>
                  <a href="">Oxido Nitrico</a>
              </li>
              <li>
                  <a href="">Carbohidratos</a>
              </li>
              <li>
                  <a href="">Hormona de Crecimiento</a>
              </li>
              <li>
                  <a href="">Herbales</a>
              </li>
              <li>
                  <a href="">Comida</a>
              </li>
              <li>
                  <a href="">Accesorios</a>
              </li>
            </div>
            <div class="border"></div>
            <div class="suplementos">
              <h3 class="submenu-title">Más Populares</h3>
              <div class="categorias">
                <article>
                  <h4 class="submenu-h4">Proteínas</h4>
                  <li>
                    <a href="">Proteínas Zero Carbohidratos</a>
                  </li>
                  <li>
                    <a href="">Proteínas Suero de Leche</a>
                  </li>
                  <li>
                    <a href="">Mezcla de Proteínas</a>
                  </li>
                  <li>
                    <a href="">Ganadores de Peso</a>
                  </li>
                  <li>
                    <a href="">Snack de Proteínas</a>
                  </li>
              </article>
              <article>
                <h4 class="submenu-h4">Quema de Grasa</h4>
                <li>
                  <a href="">Quemadores</a>
                </li>
                <li>
                  <a href="">Quemadores sin Estimulante</a>
                </li>
                <li>
                  <a href="">Bloqueadores de Carbohidratos</a>
                </li>
                <li>
                  <a href="">Geles Reductores</a>
                </li>
                <li>
                  <a href="">Diureticos</a>
                </li>
              </article>
              <article>
                <h4 class="submenu-h4">Entrenamiento</h4>
                <li>
                  <a href="">Pre-Entrenamiento</a>
                </li>
                <li>
                  <a href="">Pre-Entrenamiento sin Estimulantes</a>
                </li>
                <li>
                  <a href="">Durante Entrenamiento</a>
                </li>
                <li>
                  <a href="">Post-Entrenamiento</a>
                </li>
              </article>
              <article>
                <h4 class="submenu-h4">Aminoácidos</h4>
                <li>
                  <a href="">BCAA</a>
                </li>
                <li>
                  <a href="">Glutamina</a>
                </li>
                <li>
                  <a href="">Carnitina</a>
                </li>
              </article>
              </div> 
            </div>
          </nav>
        </li>
        <li class="focus-menu">
          <span>HOMBRE</span>
          <nav class="options" >
            <div class="ropa">
              <h4 class="submenu-title">Ropa</h4>
              <li>
                <a href="men.html">Conjuntos con pans</a>
              </li>
              <li>
                <a href="men.html">Playeras</a>
              </li>
              <li>
                <a href="men.html">Pans</a>
              </li>
              <li>
                <a href="men.html">Camisetas</a>
              </li>
            </div>
            <div class="border"></div>
            <div class="suplementos">
              <h4 class="submenu-title">Suplementos</h4>
              <li>
                  <a href="">Proteínas</a>
              </li>
              <li>
                  <a href="">Ganadores</a>
              </li>
              <li>
                  <a href="">Fajas</a>
              </li>
            </div>
          </nav>
        </li>
        <li class="focus-menu">
          <span>MUJER</span>
          <nav class="options">
            <div class="ropa">
              <h4 class="submenu-title">Ropa</h4>
              <li>
                <a href="woman-licra.html">Conjuntos Licra</a>
              </li>
              <li>
                <a href="woman-short.html">Conjuntos Short</a>
              </li>
              <li>
                <a href="falda-woman.html">Conjuntos Falda</a>
              </li>
            </div>
            <div class="border"></div>
            <div class="suplementos">
              <h4 class="submenu-title">Suplementos</h4>
              <li>
                  <a href="">Proteínas</a>
              </li>
              <li>
                  <a href="">Quemadores</a>
              </li>
              <li>
                  <a href="">Fajas</a>
              </li>
            </div>
          </nav>
        </li>
      </nav>
      <form action="index.html" class="search-form" id="focus" method="GET">
        <span class="arrow icon-arrow-left" id="arrow"></span>
        <button class="default-search" id="click">
          <span class="icon-search"></span>
        </button>
        <div class="form-group">
          <input id="busc" class="form-search-control" type="text" name="busc" autocomplete="off" placeholder="Buscar">
          <span class="limpiar-campo-busquedad" id="clear">x</span>
        </div>
      </form>
      <div class="icon-container" id="iconos">
        <span class="icon icon-user"></span>
        <span class="icon icon-lifebuoy"></span>
        <span class="icon icon-cart"></span>
        <a href="#busc" class="icon-set">
          <span  class="icon icon-search" id="search"></span>
        </a>
        <span class="icon icon-menu" id="menuActive"></span>
      </div>
    </div>
  </div>
  <script>
    const $clear = document.getElementById('clear');
    const $click = document.getElementById('click');
    const $arrow = document.getElementById('arrow');
    const $iconos = document.getElementById('iconos');
    const $logo = document.getElementById('logo');
    const $menu = document.getElementById('menu');
    const $menuActive = document.getElementById('menuActive');
    const $search = document.getElementById('search');
    const $overlay = document.getElementById('overlay');
    const $hContainer = document.getElementById('hContainer');
    const $busc = document.getElementById("busc");
    const $focus = document.getElementById('focus');

    $clear.addEventListener('click', () => { $busc.value = ""; })
    
    $focus.addEventListener('blur', (event) => {
      console.log("Esté es desenfoque:" + event);
      $focus.classList.remove("focus");
      $logo.classList.remove('unset');
      $hContainer.style.justifyContent = "space-evenly";
      $iconos.style.top = "0";
      $iconos.style.position = "initial";   
    }) 
    $arrow.addEventListener('click', (event) => {
      console.log("Esté es desenfoque:" + event);
      $focus.classList.remove("focus");
      $logo.classList.remove('unset');
      $hContainer.style.justifyContent = "space-evenly";
      $iconos.style.top = "0";
      $iconos.style.position = "initial";  
    })
    
    $busc.addEventListener('focus', (event) => {
      console.log(event)
      $hContainer.style.justifyContent = "space-between";
      $focus.classList.add('focus');
    });
   
    $search.addEventListener('click', (event) => {
      $focus.classList.add('focus');
      $logo.classList.add('unset');
      $iconos.style.top = "-63px";
      $iconos.style.position = "relative";
    })
    $menuActive.addEventListener('click', (event) => {
      $menu.classList.toggle("active");
      if($menu.className == "menu active") {
        $menuActive.style.backgroundColor = "#344c58";
      } else {
        $menuActive.style.backgroundColor = "unset";
      }
      
    })


    var consulta = window.matchMedia('(min-width: 880px)');
    var consultaMax = window.matchMedia('(max-width: 880px)'); 

    consulta.addListener(mediaQuery);
    
    function mediaQuery(){
      const $focusMenu = document.getElementsByClassName('focus-menu');
      const $activeOptionsMenu = document.getElementsByClassName('options');

				if(consulta.matches){
          // Si se cumple hagamos esto
          for (let i = 0; i < $activeOptionsMenu.length; i++) { 
            $focusMenu[i].addEventListener('mouseover', () => {
              $activeOptionsMenu[i].classList.add("activar");
              for (let index = 0; index < $activeOptionsMenu.length; index++) {
                if($activeOptionsMenu[i] != $activeOptionsMenu[index]) {
                  $activeOptionsMenu[index].classList.remove('activar');
                } 
              }             
            })
            $focusMenu[i].addEventListener('blur', (event) => {
              console.log(event);
              $activeOptionsMenu[i].classList.remove("activar");
            })
            
          }
          console.log('se cumplio la condición');
          $busc.addEventListener('blur', (event) => {
            $focus.classList.remove("focus");
            $hContainer.style.justifyContent = "space-evenly"; 
          })
          
				
        } 
        else if(consultaMax.matches) {

          for(let i = 0; i < $focusMenu.length; i++) {
            $focusMenu[i].addEventListener('click', (event) => {
              $activeOptionsMenu[i].classList.toggle('active');
              for (let index = 0; index < $activeOptionsMenu.length; index++) {
                if($activeOptionsMenu[i] != $activeOptionsMenu[index]) {
                  $activeOptionsMenu[index].classList.remove('active');
                }              
              }
            })
          }

        } else {
					
					//Si no se cumple hagamos esto
					console.log('no se cumplió la condición');
				}
			}
			mediaQuery();
      
  </script>
</body>
</html>